<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Naser's Tech Blogs</title>

  <link rel="shortcut icon" href="../images/title-logo.ico" />
  <link rel="stylesheet" href="../css/styles.css" type="text/css" />
  <link href="../css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
</head>

<body class="page-docs">
  <nav>
    <div class="nav-content">
      <div class="nav-left">
        <img class="nav-logo" src="../images/title-logo.ico" alt="mn-LAB Logo" />
        <h1>Md Abdullah Al Naser's Tech Blogs</h1>
      </div>

      <a class="home-button" href="https://naserbd.github.io/">Home</a>
    </div>
  </nav>

  <aside class="side-bar-area">
    <div class="side-bar-area-content">
      <a href="../ai-ml-for-network-engineers/index.html">
        <img src="../images/ai-ml-card-2.png" alt="AI/ML Course" />
      </a>
      <ul class="side-bar-menu" id="sidebarMenu">
        <li class="expandable expanded">
          <a href="#" class="section-title">AI/ML ‡¶®‡¶ø‡ßü‡ßá ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶ï‡¶•‡¶æ-‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ</a>
          <ul>
            <!-- ‚úÖ data-page is a friendly ID (no .md visible in HTML) -->
            <li>
              <a href="#" data-page="01-ai-ml">
                ‡¶ï‡ßá‡¶® Network Engineer-‡¶¶‡ßá‡¶∞ AI/ML ‡¶¨‡ßã‡¶ù‡¶æ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø?
              </a>
            </li>
            <li>
              <a href="#" data-page="02-ai-ml">
                ‡¶Æ‡ßá‡¶∂‡¶ø‡¶® ‡¶≤‡¶æ‡¶∞‡ßç‡¶®‡¶ø‡¶Ç ‚Äî ‡¶è‡¶ï‡¶ú‡¶® ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¶‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶ï‡ßã‡¶£ ‡¶•‡ßá‡¶ï‡ßá
              </a>
            </li>
            <!-- Optional extra page -->
            <!-- <li><a href="#" data-page="ai-ml-02">Another page</a></li> -->
          </ul>
        </li>
      </ul>
    </div>
  </aside>

  <!-- ‚úÖ Default page content (index.html content) shows on first load -->
  <main class="tutorial-area" id="contentArea">
    <h1>Welcome üëã</h1>
    <p>
      This is the default content from <strong>index.html</strong>.
      Select an article from the left menu to load it here.
    </p>

    <hr />

    <h2>What you‚Äôll find here</h2>
    <p>
      Networking, Automation, and Programmability ‚Äî explained in a simple,
      practical way.
    </p>
  </main>

  <footer class="footer">
    <p>&copy; 2024 Md Abdullah Al Naser's Tech Blogs</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (typeof showdown === "undefined") {
        console.error("Showdown library is not loaded correctly.");
        return;
      }

      const converter = new showdown.Converter({
        tables: true,
        strikethrough: true,
        tasklists: true
      });

      const menu = document.getElementById("sidebarMenu");
      const content = document.getElementById("contentArea");

      // ‚úÖ Keep the initial HTML content to restore later if needed
      const defaultHtml = content.innerHTML;

      // ‚úÖ Map friendly page IDs -> actual markdown files
      // (This keeps .md hidden from your HTML menu)
      const PAGES = {
        "01-ai-ml": "01-al-ml.md",
        "02-ai-ml": "02-al-ml.md"
        // add more later:
        
      };

      function clearActive() {
        menu.querySelectorAll("a.active").forEach(a => a.classList.remove("active"));
      }

      function setActiveLink(a) {
        clearActive();
        if (a) a.classList.add("active");
      }

      async function loadMarkdown(mdPath, activeLink) {
        try {
          console.log("Loading markdown:", mdPath);

          const res = await fetch(mdPath, { cache: "no-store" });
          if (!res.ok) {
            const txt = await res.text().catch(() => "");
            throw new Error(`HTTP ${res.status} ${res.statusText}. Body starts: ${txt.slice(0,120)}`);
          }

          const md = await res.text();
          content.innerHTML = converter.makeHtml(md);
          setActiveLink(activeLink);

          content.scrollTop = 0;
          window.scrollTo(0, 0);
        } catch (err) {
          console.error("Markdown load error:", err);
          content.innerHTML =
            "<h2>Failed to load content</h2>" +
            "<p>Open DevTools ‚Üí Console to see the exact error and the URL being fetched.</p>";
        }
      }

      menu.addEventListener("click", (e) => {
        const a = e.target.closest("a");
        if (!a) return;

        const topExpandable = a.closest("li.expandable");
        const isSectionTitle = a.classList.contains("section-title");

        // Toggle expand/collapse for section titles
        if (topExpandable && isSectionTitle) {
          e.preventDefault();
          topExpandable.classList.toggle("expanded");
          return;
        }

        // Load markdown for menu items
        const pageId = a.getAttribute("data-page");
        if (pageId && PAGES[pageId]) {
          e.preventDefault();
          loadMarkdown(PAGES[pageId], a);
          return;
        }

        e.preventDefault();
      });

      // ‚úÖ IMPORTANT:
      // Do NOT auto-load any markdown on first load.
      // The default HTML content in <main> stays visible.
      // If you ever want a "Back to Home" button inside sidebar,
      // we can restore defaultHtml with: content.innerHTML = defaultHtml;
    });
  </script>
</body>
</html>